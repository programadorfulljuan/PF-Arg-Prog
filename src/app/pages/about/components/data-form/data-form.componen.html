<div class="container">
    <form [formGroup]="form" (ngSubmit)="onSubmit($event)" autocomplete="off">
        <div class="row">
            <div class="d-flex justify-content-center col-md input-group mb-3 rounded-circle">
                <input #imgInput (change)="onFileChange($event)" class="d-none" accept="image/png, image/jpeg" type="file" id="image" name="image" />
                <img (click)="imgInput.click()" src="/assets/images/addimg.png" *ngIf="preview === '' && data.image === ''" class="form__preview bg-opacity-25 bg-light rounded-circle" />
                <img (click)="imgInput.click()" src="{{ API_URL + '/api/image/' + data.image }}" *ngIf="preview === '' && data.image !== ''" class="form__preview bg-opacity-25 bg-light rounded-circle" />
                <img (click)="imgInput.click()" [src]="preview" *ngIf="preview !== ''" class="form__preview bg-opacity-25 bg-light rounded-circle" />
            </div>
            <div class="col-md-8">
                <div class="form-floating mb-1 mb-md-3">
                    <input class="form-control bg-secondary bg-opacity-25 text-light" type="text" formControlName="institution" id="institution" placeholder="{{ formLabels[0] }}" [(ngModel)]="data.institution" />
                    <label class="text-light fw-bold">{{ formLabels[0] }}</label>
                </div>
                <div class="form-floating mb-1 mb-md-3">
                    <input class="form-control bg-secondary bg-opacity-25 text-light" type="text" formControlName="title" id="title" placeholder="{{ formLabels[1] }}" [(ngModel)]="data.title" />
                    <label for="title" class="text-light fw-bold">
              {{ formLabels[1] }}</label
            >
          </div>
          <div class="d-flex gap-1 align-items-center">
            <div class="form-floating mb-1 mb-md-3 col-5">
              <input
                type="date"
                class="form-control bg-secondary bg-opacity-25 text-light"
                formControlName="startDate"
                id="startDate"
                [(ngModel)]="data.startDate"
              />
              <label for="startDate" class="text-light fw-bold">Inicio</label>
                </div>
                <div class="form-floating mb-1 mb-md-3 col-5">
                    <input type="date" class="form-control bg-secondary bg-opacity-25 text-light" formControlName="endDate" id="endDate" [(ngModel)]="data.endDate" />
                    <label for="endDate" class="text-light fw-bold">Finalizacion</label>
                </div>
                <div class="form-check form-switch mb-1 mb-md-3 col-2">
                    <input class="form-check-input" type="checkbox" value="" formControlName="actual" id="actual" [(ngModel)]="data.actual" />
                    <label for="actual" class="form-check-label text-light fw-bold">Actual?</label
              >
            </div>
          </div>
        </div>
      </div>
      <div class="form-floating mb-1 mb-md-3">
        <textarea
          class="form-control bg-secondary bg-opacity-25 text-light form__textarea"
          formControlName="description"
          id="description"
          placeholder="Descricion"
          [(ngModel)]="data.description"
        >
        </textarea>
        <label for="description" class="text-light fw-bold">Descripcion</label>
                </div>
                <div class="d-flex gap-1">
                    <input class="btn bg-primary bg-opacity-50 text-light mx-auto col-6 mb-3" type="submit" value="Enviar" />
                    <input class="btn bg-primary bg-opacity-50 text-light mx-auto col-6 mb-3" type="button" value="Cancelar" (click)="cancelEdit.emit()" />
                </div>
    </form>
    </div>